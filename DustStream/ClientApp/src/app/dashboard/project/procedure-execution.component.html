<div *ngIf="overallStatus">
  <h3 class="procedure-header {{ overallStatus | status }}"
      style="width: 90%">
    {{procedureShortName}}
  </h3>
</div>

<div *ngIf="procedureExecutions && procedureExecutions.length !== 0 && ciConfigurationHeader && ciConfigurationObj">
  <table class="table-striped-rows table-hover" style="width: 90%">
    <tr style="background-color: white">
      <th width="170">Start Time</th>
      <th *ngFor="let header of ciConfigurationHeader">{{ header }}</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
    <ng-container *ngFor="let execution of procedureExecutions; let i = index; let odd = odd; let even = even;">
      <tr (click)="execution.isExpanded = !execution.isExpanded" [ngClass]="{'oddRowStyle': odd, 'evenRowStyle': even}">
        <td>{{ execution.timestamp | date:"MM/dd/yyyy HH:mm:ss"}}</td>
        <td *ngFor="let header of ciConfigurationHeader">{{ ciConfigurationObj[execution.jobId][header] }}</td>
        <td style="padding: 4px">
          <table style="width: 100%; height: 100%">
            <tr>
              <td class="{{ execution.status | status }}">
                {{ execution.status }}
              </td>
            </tr>
          </table>
        </td>
        <td>
          <a *ngIf="execution.downloadLink" [href]="execution.downloadLink" title="Download">
            <i class="fas fa-download px-1" aria-hidden="true"></i>
          </a>
          <a *ngIf="execution.consoleLog" [href]="execution.consoleLog" title="Log">
            <i class="fas fa-clipboard-list px-1" aria-hidden="true"></i>
          </a>
          <a *ngIf="execution.machine" [href]="execution.machine" title="Machine">
            <i class="fas fa-desktop px-1" aria-hidden="true"></i>
          </a>
        </td>
      </tr>
    </ng-container>
  </table>
  <br />
</div>

