<form *ngIf="form && project" [formGroup]="form" class="ci-service-form"
      fxLayout="column wrap" fxLayoutAlign="start center" fxLayoutGap="10px">
  <mat-form-field>
    <mat-label>CI/CD Service</mat-label>
    <mat-select formControlName="ciService">
      <mat-option value="">-- None --</mat-option>
      <mat-option value="azureDevOps">Azure DevOps</mat-option>
    </mat-select>
  </mat-form-field>
  <ng-container *ngIf="currentGroupName === 'azureDevOps'" formGroupName="azureDevOps">
    <mat-form-field>
      <mat-label>Organization</mat-label>
      <input matInput formControlName="organization" placeholder="Azure Organization" required>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Project</mat-label>
      <input matInput formControlName="project" placeholder="Azure Project" required>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Build Definition</mat-label>
      <input matInput formControlName="buildDefinition" placeholder="Azure Build Definition" required>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Release Definition</mat-label>
      <input matInput formControlName="releaseDefinition" placeholder="Azure Release Definition ID" required>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Artifact Resource</mat-label>
      <input matInput formControlName="artifactResourcePipeline" placeholder="Pipeline contains published artifacts" required>
    </mat-form-field>
  </ng-container>
  <mat-form-field class="invisible">
    <input matInput formControlName="variablesDef">
  </mat-form-field>
  <div class="variables">
    <mat-label>Variables Definition</mat-label>
    <ngs-code-editor [theme]="theme" [codeModel]="variablesCodeModel" [options]="editorOptions"
                     (valueChanged)="variablesDefChanged($event)"
                     class="editor">
    </ngs-code-editor>
    <mat-hint>Reference to the following<a href="https://formly.dev/ui/material"> examples </a>to define variables.</mat-hint>
  </div>
</form>
